SELECT NUMDE, AVG(SALAR)
FROM TEMPLE
GROUP BY NUMDE
HAVING MAX(SALAR) < (SELECT AVG(SALAR) FROM TEMPLE);